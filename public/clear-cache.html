<!DOCTYPE html>
<html>
<head>
    <title>–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ FamilyFlow</title>
    <meta charset="utf-8">
    <style>
        body { font-family: Arial; text-align: center; padding: 50px; }
        .status { font-size: 18px; margin: 20px 0; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>üßπ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ FamilyFlow</h1>
    <div id="status" class="status">–û—á–∏—Å—Ç–∫–∞...</div>
    
    <script>
        async function clearAll() {
            const status = document.getElementById('status');
            
            try {
                // –û—á–∏—Å—Ç–∫–∞ Service Workers
                if ('serviceWorker' in navigator) {
                    const registrations = await navigator.serviceWorker.getRegistrations();
                    for (let registration of registrations) {
                        await registration.unregister();
                    }
                }
                
                // –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
                if ('caches' in window) {
                    const cacheNames = await caches.keys();
                    await Promise.all(
                        cacheNames.map(cacheName => caches.delete(cacheName))
                    );
                }
                
                // –û—á–∏—Å—Ç–∫–∞ localStorage
                localStorage.clear();
                sessionStorage.clear();
                
                status.innerHTML = '‚úÖ –ö—ç—à –æ—á–∏—â–µ–Ω! –ó–∞–∫—Ä–æ–π—Ç–µ —ç—Ç—É –≤–∫–ª–∞–¥–∫—É –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ <a href="/">–≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</a>';
                status.className = 'status success';
                
            } catch (error) {
                status.innerHTML = '‚ùå –û—à–∏–±–∫–∞: ' + error.message;
                status.className = 'status error';
            }
        }
        
        clearAll();
    </script>
</body>
</html>